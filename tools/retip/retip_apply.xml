<tool id="retip_apply" name="Retip prediction" version="@TOOL_VERSION@+galaxy0">
    <description>is retention time predictor for Metabolomics</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
           /run.sh spell.R '$descr_train' '$model_hdf5' '$input_smiles' 'output.tsv'
      ]]>
    </command>
    <inputs>
        <param name="descr_train" label="Select Descriptors.Feather Dataset" type="data" format="h5"
               optional="false"/>
        <param name="model_hdf5" label="Select Model.hdf5 Dataset" type="data" format="h5" optional="false"/>
        <param name="input_smiles" label="Select Input Dataset" type="data" format="tabular" optional="false"/>
    </inputs>
    <outputs>
        <data format="tabular" name="output1" label="Predicted RT" from_work_dir="output.tsv"/>
    </outputs>
    <tests>
        <test expect_num_outputs="1">
            <param name="descr_train" value="descriptors.feather"/>
            <param name="model_hdf5" value="model.hdf5"/>
            <param name="input_smiles" value="input.tsv"/>
            <output name="output1" file="output.tsv" ftype="tabular" compare="sim_size" delta="1000"/>
        </test>
    </tests>
    <help><![CDATA[
.. class:: infomark

This tool is used for **Retention Time Prediction** on a whole database.

@HELP@
        ]]>
    </help>
    <expand macro="citations"/>
</tool>
